<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1062px" height="2161px" viewBox="-0.5 -0.5 1062 2161" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2026-01-20T07:04:29.959Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/22.1.11 Chrome/114.0.5735.289 Electron/25.9.8 Safari/537.36&quot; etag=&quot;pppv7Wn89yPWBMyfHosv&quot; version=&quot;22.1.11&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;kredis-op-scale-up&quot; name=&quot;Scale Up Operation (op_scale.go)&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="78" y="353" width="320" height="280" fill="#f5f5f5" stroke="#666666" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 308px; height: 1px; padding-top: 365px; margin-left: 90px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ğŸ“‹ ì „ì²´ íë¦„ ìš”ì•½<br /><br />ìŠ¤ì¼€ì¼ì—…ì€ 3ë‹¨ê³„ë¡œ ì§„í–‰ë©ë‹ˆë‹¤:<br /><br />1. ë§ˆìŠ¤í„° ì¶”ê°€ ë‹¨ê³„<br />   - currentMasters &lt; spec.Mastersì¼ ë•Œ<br />   - add-node ëª…ë ¹ìœ¼ë¡œ ë§ˆìŠ¤í„° ì¡°ì¸<br /><br />2. ë¦¬ë°¸ëŸ°ì‹± ë‹¨ê³„<br />   - ìƒˆ ë§ˆìŠ¤í„°ì— ìŠ¬ë¡¯ ë¶„ë°° í•„ìš”<br />   - rebalance-neededë¡œ ì „í™˜<br /><br />3. ë ˆí”Œë¦¬ì¹´ ì¶”ê°€ ë‹¨ê³„<br />   - ë¦¬ë°¸ëŸ°ì‹± ì™„ë£Œ í›„ ìŠ¬ë ˆì´ë¸Œ ì¶”ê°€<br />   - --cluster-slave í”Œë˜ê·¸ ì‚¬ìš©<br /><br />ğŸ’¡ í•µì‹¬: ë§ˆìŠ¤í„° ë¨¼ì €, ë¦¬ë°¸ëŸ°ì‹±, ê·¸ë‹¤ìŒ ìŠ¬ë ˆì´ë¸Œ</div></div></div></foreignObject><text x="90" y="377" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ğŸ“‹ ì „ì²´ íë¦„ ìš”ì•½...</text></switch></g><rect x="350" y="0" width="500" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 498px; height: 1px; padding-top: 25px; margin-left: 351px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 20px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">scaleCluster() - op_scale.go<br />ìŠ¤ì¼€ì¼ì—…: Redis í´ëŸ¬ìŠ¤í„°ì— ë…¸ë“œ ì¶”ê°€</div></div></div></foreignObject><text x="600" y="31" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="20px" text-anchor="middle" font-weight="bold">scaleCluster() - op_scale.go...</text></switch></g><ellipse cx="600" cy="90" rx="20" ry="20" fill="#000000" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 600 140 L 710 180 L 600 220 L 490 180 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 180px; margin-left: 491px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">lastOp í™•ì¸ =<br />kredis.Status.LastClusterOperation</div></div></div></foreignObject><text x="600" y="184" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">lastOp í™•ì¸ =...</text></switch></g><path d="M 600 110 L 600 130 L 600 120 L 600 133.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 138.88 L 596.5 131.88 L 600 133.63 L 603.5 131.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 320 250 L 410 285 L 320 320 L 230 285 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 285px; margin-left: 231px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">"scale-reset-pending" í¬í•¨?</div></div></div></foreignObject><text x="320" y="289" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">"scale-reset-pending" í¬í•¨?</text></switch></g><path d="M 490 180 L 320 180 L 320 243.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 320 248.88 L 316.5 241.88 L 320 243.63 L 323.5 241.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="250" width="180" height="70" rx="10.5" ry="10.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 285px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">checkScaleResetAndProceed()<br />ë¦¬ì…‹ ì™„ë£Œ í™•ì¸<br />ê·¸ í›„ ë…¸ë“œ ì¶”ê°€</div></div></div></foreignObject><text x="90" y="289" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">checkScaleResetAndProceed()...</text></switch></g><path d="M 230 285 L 186.37 285" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 181.12 285 L 188.12 281.5 L 186.37 285 L 188.12 288.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 285px; margin-left: 205px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì˜ˆ</div></div></div></foreignObject><text x="205" y="288" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì˜ˆ</text></switch></g><rect x="460" y="255" width="280" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 285px; margin-left: 461px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ì´ˆê¸°í™”:<br />delta.LastClusterOperation = "scale-in-progress"<br />delta.ClusterState = ClusterStateScaling</div></div></div></foreignObject><text x="600" y="289" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">ì´ˆê¸°í™”:...</text></switch></g><path d="M 410 285 L 453.63 285" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 458.88 285 L 451.88 288.5 L 453.63 285 L 451.88 281.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 285px; margin-left: 435px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì•„ë‹ˆì˜¤</div></div></div></foreignObject><text x="435" y="288" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì•„ë‹ˆì˜¤</text></switch></g><rect x="430" y="340" width="340" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 370px; margin-left: 431px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">findMasterPod()<br />clusterStateì—ì„œ ì¤€ë¹„ëœ ë§ˆìŠ¤í„° Pod ì°¾ê¸°<br />ìš°ì„ ìˆœìœ„: ìŠ¬ë¡¯ ìˆëŠ” ë§ˆìŠ¤í„° &gt; ë§ˆìŠ¤í„° &gt; ëª¨ë“  ë©¤ë²„</div></div></div></foreignObject><text x="600" y="374" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">findMasterPod()...</text></switch></g><path d="M 600 315 L 600 335.05 L 600 320 L 600 333.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 338.88 L 596.5 331.88 L 600 333.63 L 603.5 331.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 600 430 L 730 465 L 600 500 L 470 465 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 465px; margin-left: 471px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">lastOp ê°€ "scale-failed" í¬í•¨?<br />ì´ì „ ìŠ¤ì¼€ì¼ ì‹œë„ ì‹¤íŒ¨</div></div></div></foreignObject><text x="600" y="469" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">lastOp ê°€ "scale-failed" í¬í•¨?...</text></switch></g><path d="M 600 400 L 600 420 L 600 410 L 600 423.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 428.88 L 596.5 421.88 L 600 423.63 L 603.5 421.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="800" y="410" width="260" height="110" rx="16.5" ry="16.5" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 465px; margin-left: 812px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">scale-failed í´ëŸ¬ìŠ¤í„° ë³µêµ¬:<br />1. IsClusterHealthy()? - ìƒíƒœ í™•ì¸<br />2. ë¹„ì •ìƒì´ë©´: RepairCluster()<br />   - redis-cli --cluster fix<br />3. "scale-repair-done" ìƒíƒœ ì„¤ì •<br />4. ë°˜í™˜ (ë‹¤ìŒ reconcileì—ì„œ ì¬ì‹œë„)</div></div></div></foreignObject><text x="812" y="469" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">scale-failed í´ëŸ¬ìŠ¤í„° ë³µêµ¬:...</text></switch></g><path d="M 730 465 L 793.63 465" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 798.88 465 L 791.88 468.5 L 793.63 465 L 791.88 461.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 465px; margin-left: 765px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì˜ˆ</div></div></div></foreignObject><text x="765" y="468" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì˜ˆ</text></switch></g><rect x="450" y="530" width="300" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 560px; margin-left: 451px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ë¦¬ë°¸ëŸ°ì‹± ìƒíƒœ í™•ì¸:<br />isRebalancing = lastOpì—<br />"rebalance-in-progress" ë˜ëŠ” "reshard-in-progress" í¬í•¨</div></div></div></foreignObject><text x="600" y="564" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">ë¦¬ë°¸ëŸ°ì‹± ìƒíƒœ í™•ì¸:...</text></switch></g><path d="M 600 500 L 600 520 L 600 510 L 600 523.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 528.88 L 596.5 521.88 L 600 523.63 L 603.5 521.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 515px; margin-left: 600px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì•„ë‹ˆì˜¤</div></div></div></foreignObject><text x="600" y="519" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì•„ë‹ˆì˜¤</text></switch></g><rect x="420" y="620" width="360" height="90" rx="13.5" ry="13.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 348px; height: 1px; padding-top: 665px; margin-left: 432px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">filterNewPods()<br />ì•„ì§ Redis í´ëŸ¬ìŠ¤í„°ì— ì—†ëŠ” Pod í•„í„°ë§:<br />- clusterState(ì‹¤ì œ Redis ìƒíƒœ) ì‚¬ìš©<br />- í´ëŸ¬ìŠ¤í„° ë‚´ ë…¸ë“œ: NodeID != "" &amp;&amp; role ì•Œë ¤ì§<br />- ë™ì‹œ reconcileì—ì„œ ì¤‘ë³µ add-node ë°©ì§€</div></div></div></foreignObject><text x="432" y="669" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">filterNewPods()...</text></switch></g><path d="M 600 590 L 600 610 L 600 600 L 600 613.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 618.88 L 596.5 611.88 L 600 613.63 L 603.5 611.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 600 740 L 685 775 L 600 810 L 515 775 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 775px; margin-left: 516px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">len(newPods) == 0?</div></div></div></foreignObject><text x="600" y="779" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">len(newPods) == 0?</text></switch></g><path d="M 600 710 L 600 730 L 600 720 L 600 733.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 738.88 L 596.5 731.88 L 600 733.63 L 603.5 731.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="230" y="745" width="200" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 775px; margin-left: 231px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">finalizeScale()<br />ìƒˆ Pod ì—†ìŒ â†’ ì™„ë£Œ í™•ì¸<br />(ì•„ë˜ Finalize ì„¹ì…˜ ì°¸ì¡°)</div></div></div></foreignObject><text x="330" y="779" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">finalizeScale()...</text></switch></g><path d="M 515 775 L 436.37 775" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 431.12 775 L 438.12 771.5 L 436.37 775 L 438.12 778.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 775px; margin-left: 472px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì˜ˆ</div></div></div></foreignObject><text x="472" y="778" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì˜ˆ</text></switch></g><rect x="480" y="840" width="240" height="50" rx="7.5" ry="7.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 865px; margin-left: 481px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">newPods ì´ë¦„ìˆœ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬<br />ì¼ê´€ëœ ìˆœì„œ ë³´ì¥</div></div></div></foreignObject><text x="600" y="869" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">newPods ì´ë¦„ìˆœ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬...</text></switch></g><path d="M 600 810 L 600 830 L 600 820 L 600 833.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 838.88 L 596.5 831.88 L 600 833.63 L 603.5 831.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 825px; margin-left: 600px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì•„ë‹ˆì˜¤</div></div></div></foreignObject><text x="600" y="829" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì•„ë‹ˆì˜¤</text></switch></g><rect x="450" y="920" width="300" height="50" rx="7.5" ry="7.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 945px; margin-left: 451px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">clusterStateì—ì„œ currentMasters ê³„ì‚°<br />role="master" &amp;&amp; NodeID != ""ì¸ ë…¸ë“œ ëŒ€ìƒ</div></div></div></foreignObject><text x="600" y="949" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">clusterStateì—ì„œ currentMasters ê³„ì‚°...</text></switch></g><path d="M 600 890 L 600 910 L 600 900 L 600 913.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 918.88 L 596.5 911.88 L 600 913.63 L 603.5 911.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="450" y="1000" width="300" height="70" rx="10.5" ry="10.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 1035px; margin-left: 451px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ì´ë¦„ ê·œì¹™ìœ¼ë¡œ newPods ë¶„ë¥˜:<br />íŒŒì‹±: kredis-{shard}-{instance}<br />instance=0 â†’ initialMasterPods<br />instance&gt;0 â†’ initialReplicaPods</div></div></div></foreignObject><text x="600" y="1039" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">ì´ë¦„ ê·œì¹™ìœ¼ë¡œ newPods ë¶„ë¥˜:...</text></switch></g><path d="M 600 970 L 600 990 L 600 980 L 600 993.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 998.88 L 596.5 991.88 L 600 993.63 L 603.5 991.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 600 1100 L 705 1140 L 600 1180 L 495 1140 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 1140px; margin-left: 496px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ìŠ¤ì¼€ì¼ì—… ë‹¨ê³„ ê²°ì •</div></div></div></foreignObject><text x="600" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">ìŠ¤ì¼€ì¼ì—… ë‹¨ê³„ ê²°ì •</text></switch></g><path d="M 600 1070 L 600 1090 L 600 1080 L 600 1093.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 1098.88 L 596.5 1091.88 L 600 1093.63 L 603.5 1091.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="50" y="1080" width="240" height="120" rx="18" ry="18" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 228px; height: 1px; padding-top: 1140px; margin-left: 62px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ë‹¨ê³„ 1: ë§ˆìŠ¤í„° ì¶”ê°€<br /><br />ì¡°ê±´: currentMasters &lt; spec.Masters<br /><br />targetPod ì„ íƒ:<br />  - initialMasterPods[0] ìš°ì„ <br />  - ëŒ€ì•ˆ: initialReplicaPods[0]<br />isMaster = true ì„¤ì •</div></div></div></foreignObject><text x="62" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ë‹¨ê³„ 1: ë§ˆìŠ¤í„° ì¶”ê°€...</text></switch></g><path d="M 495 1140 L 296.37 1140" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 291.12 1140 L 298.12 1136.5 L 296.37 1140 L 298.12 1143.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1140px; margin-left: 392px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ë§ˆìŠ¤í„°<br />í•„ìš”</div></div></div></foreignObject><text x="392" y="1143" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ë§ˆìŠ¤í„°&#xa;í•„ìš”</text></switch></g><rect x="330" y="1230" width="260" height="150" rx="22.5" ry="22.5" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 1305px; margin-left: 342px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ë‹¨ê³„ 2: ë¦¬ë°¸ëŸ°ìŠ¤ íŠ¸ë¦¬ê±°<br /><br />ì¡°ê±´: currentMasters &gt;= spec.Masters<br />ê·¸ëŸ¬ë‚˜ !checkAllMastersHaveSlots()<br />(ì¼ë¶€ ë§ˆìŠ¤í„°ê°€ 0 ìŠ¬ë¡¯ ë³´ìœ )<br /><br />delta.LastClusterOperation =<br />  "rebalance-needed"<br />delta.ClusterState = Rebalancing<br />nil ë°˜í™˜ (ë¦¬ë°¸ëŸ°ìŠ¤ í”Œë¡œìš° íŠ¸ë¦¬ê±°)</div></div></div></foreignObject><text x="342" y="1309" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ë‹¨ê³„ 2: ë¦¬ë°¸ëŸ°ìŠ¤ íŠ¸ë¦¬ê±°...</text></switch></g><path d="M 547.5 1160 L 547.52 1205.05 L 460 1205.05 L 460 1223.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 460 1228.88 L 456.5 1221.88 L 460 1223.63 L 463.5 1221.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1205px; margin-left: 501px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ë§ˆìŠ¤í„° OK<br />ë¦¬ë°¸ëŸ°ìŠ¤<br />í•„ìš”</div></div></div></foreignObject><text x="501" y="1208" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ë§ˆìŠ¤í„° OK...</text></switch></g><rect x="800" y="1080" width="260" height="150" rx="22.5" ry="22.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 1155px; margin-left: 812px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ë‹¨ê³„ 3: ìŠ¬ë ˆì´ë¸Œ ì¶”ê°€<br /><br />ì¡°ê±´: currentMasters &gt;= spec.Masters<br />ê·¸ë¦¬ê³  checkAllMastersHaveSlots()<br />ê·¸ë¦¬ê³  !isRebalancing<br /><br />targetPod ì„ íƒ:<br />  - initialReplicaPods[0] ìš°ì„ <br />  - ëŒ€ì•ˆ: initialMasterPods[0]<br />isMaster = false ì„¤ì •</div></div></div></foreignObject><text x="812" y="1159" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ë‹¨ê³„ 3: ìŠ¬ë ˆì´ë¸Œ ì¶”ê°€...</text></switch></g><path d="M 705 1140 L 752.48 1140 L 752.48 1155.05 L 793.63 1155.05" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 798.88 1155.05 L 791.88 1158.55 L 793.63 1155.05 L 791.88 1151.55 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1148px; margin-left: 752px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ë ˆí”Œë¦¬ì¹´<br />ì¶”ê°€</div></div></div></foreignObject><text x="752" y="1151" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ë ˆí”Œë¦¬ì¹´&#xa;ì¶”ê°€</text></switch></g><rect x="650" y="1260" width="200" height="90" rx="13.5" ry="13.5" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 1305px; margin-left: 662px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ë¦¬ë°¸ëŸ°ìŠ¤ ëŒ€ê¸°<br /><br />ì¡°ê±´: isRebalancing == true<br />ìŠ¬ë ˆì´ë¸ŒëŠ” ë¦¬ë°¸ëŸ°ìŠ¤ ì™„ë£Œê¹Œì§€ ëŒ€ê¸°<br />nil ë°˜í™˜</div></div></div></foreignObject><text x="662" y="1309" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ë¦¬ë°¸ëŸ°ìŠ¤ ëŒ€ê¸°...</text></switch></g><path d="M 600 1180 L 600 1220 L 750 1220 L 750 1253.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 750 1258.88 L 746.5 1251.88 L 750 1253.63 L 753.5 1251.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1220px; margin-left: 675px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ë¦¬ë°¸ëŸ°ì‹±<br />ì§„í–‰ ì¤‘</div></div></div></foreignObject><text x="675" y="1223" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ë¦¬ë°¸ëŸ°ì‹±&#xa;ì§„í–‰ ì¤‘</text></switch></g><path d="M 600 1410 L 770 1445 L 600 1480 L 430 1445 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 338px; height: 1px; padding-top: 1445px; margin-left: 431px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">isNodeInCluster(targetPod, clusterState)?<br />ì´ë¯¸ í´ëŸ¬ìŠ¤í„°ì— ì†í•´ìˆëŠ”ì§€ í™•ì¸</div></div></div></foreignObject><text x="600" y="1449" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">isNodeInCluster(targetPod, clusterState)?...</text></switch></g><path d="M 170 1200 L 170 1445.05 L 423.86 1445.05" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 429.11 1445.05 L 422.11 1448.55 L 423.86 1445.05 L 422.11 1441.55 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 930 1230 L 930 1445.05 L 776.14 1445.05" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 770.89 1445.05 L 777.89 1441.55 L 776.14 1445.05 L 777.89 1448.55 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="754" y="1469" width="260" height="100" rx="15" ry="15" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 1519px; margin-left: 766px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">handleExistingNode()<br />ë…¸ë“œê°€ ì´ë¯¸ í´ëŸ¬ìŠ¤í„°ì— ìˆìŒ:<br />- í˜„ì¬ ì—­í•  vs ê¸°ëŒ€ ì—­í•  í™•ì¸<br />- masterâ†’slave í•„ìš” ì‹œ: ë¹„ì–´ìˆìœ¼ë©´ ë³€í™˜<br />- slaveâ†’master: ìœ ì§€<br />delta ì—…ë°ì´íŠ¸ í›„ ë°˜í™˜</div></div></div></foreignObject><text x="766" y="1523" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">handleExistingNode()...</text></switch></g><path d="M 685 1462.5 L 685.05 1519.05 L 747.63 1519" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 752.88 1519 L 745.88 1522.51 L 747.63 1519 L 745.88 1515.51 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1519px; margin-left: 691px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì˜ˆ</div></div></div></foreignObject><text x="691" y="1522" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì˜ˆ</text></switch></g><path d="M 600 1510 L 690 1545 L 600 1580 L 510 1545 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 1545px; margin-left: 511px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">isPodReady(targetPod)?</div></div></div></foreignObject><text x="600" y="1549" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">isPodReady(targetPod)?</text></switch></g><path d="M 600 1480 L 600 1500 L 600 1490 L 600 1503.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 1508.88 L 596.5 1501.88 L 600 1503.63 L 603.5 1501.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1495px; margin-left: 600px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì•„ë‹ˆì˜¤</div></div></div></foreignObject><text x="600" y="1499" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì•„ë‹ˆì˜¤</text></switch></g><rect x="270" y="1515" width="150" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1545px; margin-left: 271px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Pod ì¤€ë¹„ ì•ˆë¨<br />nil ë°˜í™˜ (ëŒ€ê¸°)</div></div></div></foreignObject><text x="345" y="1549" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Pod ì¤€ë¹„ ì•ˆë¨...</text></switch></g><path d="M 510 1545 L 426.37 1545" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 421.12 1545 L 428.12 1541.5 L 426.37 1545 L 428.12 1548.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1545px; margin-left: 465px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì•„ë‹ˆì˜¤</div></div></div></foreignObject><text x="465" y="1548" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì•„ë‹ˆì˜¤</text></switch></g><path d="M 600 1610 L 750 1645 L 600 1680 L 450 1645 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 1645px; margin-left: 451px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">isNodeResetNeeded()?<br />DBSIZE &gt; 0 ë˜ëŠ” cluster_known_nodes &gt; 1?</div></div></div></foreignObject><text x="600" y="1649" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">isNodeResetNeeded()?...</text></switch></g><path d="M 600 1580 L 600 1600 L 600 1590 L 600 1603.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 1608.88 L 596.5 1601.88 L 600 1603.63 L 603.5 1601.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1595px; margin-left: 600px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì˜ˆ</div></div></div></foreignObject><text x="600" y="1599" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì˜ˆ</text></switch></g><path d="M 449 1750 L 518.63 1750" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 523.88 1750 L 516.88 1753.5 L 518.63 1750 L 516.88 1746.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="189" y="1685" width="260" height="130" rx="19.5" ry="19.5" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 1750px; margin-left: 201px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ë…¸ë“œ ë¦¬ì…‹:<br />1. delta.LastClusterOperation ì„¤ì • =<br />   "scale-reset-pending:{pod}:{isMaster}"<br />2. resetNode() ì‹¤í–‰<br />   - FLUSHALL<br />   - CLUSTER RESET<br />3. isNodeReset() ì¦‰ì‹œ í™•ì¸<br />4. ë¦¬ì…‹ ì•ˆë¨: nil ë°˜í™˜ (ëŒ€ê¸°)</div></div></div></foreignObject><text x="201" y="1754" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ë…¸ë“œ ë¦¬ì…‹:...</text></switch></g><path d="M 450.2 1645.05 L 319.05 1645.05 L 319.05 1678.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 319.05 1683.88 L 315.55 1676.88 L 319.05 1678.63 L 322.55 1676.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1645px; margin-left: 364px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì˜ˆ</div></div></div></foreignObject><text x="364" y="1648" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì˜ˆ</text></switch></g><rect x="525" y="1730" width="150" height="40" rx="6" ry="6" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1750px; margin-left: 526px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">addNodeToCluster()</div></div></div></foreignObject><text x="600" y="1754" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">addNodeToCluster()</text></switch></g><path d="M 600 1680 L 600 1723.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 600 1728.88 L 596.5 1721.88 L 600 1723.63 L 603.5 1721.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1705px; margin-left: 600px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì•„ë‹ˆì˜¤</div></div></div></foreignObject><text x="600" y="1708" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì•„ë‹ˆì˜¤</text></switch></g><rect x="370" y="1874" width="230" height="130" rx="19.5" ry="19.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 218px; height: 1px; padding-top: 1939px; margin-left: 382px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ë§ˆìŠ¤í„° ë…¸ë“œ ì¶”ê°€:<br /><br />PodExecutor.AddNodeToCluster()<br />redis-cli --cluster add-node<br />  {newPodAddr} {existingPodAddr}<br /><br />--cluster-slave í”Œë˜ê·¸ ì—†ìŒ<br />(ë§ˆìŠ¤í„°ë¡œ ì¡°ì¸)</div></div></div></foreignObject><text x="382" y="1943" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ë§ˆìŠ¤í„° ë…¸ë“œ ì¶”ê°€:...</text></switch></g><path d="M 562.5 1770 L 562.48 1822 L 485.05 1822 L 485.05 1867.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 485.05 1872.88 L 481.55 1865.88 L 485.05 1867.63 L 488.55 1865.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1822px; margin-left: 524px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">isMaster</div></div></div></foreignObject><text x="524" y="1825" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">isMaster</text></switch></g><rect x="650" y="1854" width="280" height="180" rx="27" ry="27" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 268px; height: 1px; padding-top: 1944px; margin-left: 662px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ìŠ¬ë ˆì´ë¸Œ ë…¸ë“œ ì¶”ê°€:<br /><br />1. íƒ€ê²Ÿ ë§ˆìŠ¤í„° ì°¾ê¸°:<br />   - Pod ì´ë¦„ì—ì„œ shard íŒŒì‹±<br />   - ê°™ì€ shardì—ì„œ ìŠ¬ë¡¯ ìˆëŠ” ë§ˆìŠ¤í„° ì°¾ê¸°<br />   - ëŒ€ì•ˆ: selectMasterWithFewestSlaves()<br /><br />2. PodExecutor.AddNodeToCluster()<br />   redis-cli --cluster add-node<br />   {newPodAddr} {existingPodAddr}<br />   --cluster-slave<br />   --cluster-master-id {masterID}</div></div></div></foreignObject><text x="662" y="1948" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ìŠ¬ë ˆì´ë¸Œ ë…¸ë“œ ì¶”ê°€:...</text></switch></g><path d="M 630 1769 L 630 1812 L 790 1812 L 790 1847.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 790 1852.88 L 786.5 1845.88 L 790 1847.63 L 793.5 1845.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1812px; margin-left: 710px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">!isMaster</div></div></div></foreignObject><text x="710" y="1815" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">!isMaster</text></switch></g><rect x="410" y="2080" width="200" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 2120px; margin-left: 422px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">AddNodeToCluster ì˜¤ë¥˜ ì‹œ:<br />1. RepairCluster() ì‹œë„<br />2. "scale-failed" ìƒíƒœ ì„¤ì •<br />3. ì˜¤ë¥˜ ë°˜í™˜</div></div></div></foreignObject><text x="422" y="2124" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">AddNodeToCluster ì˜¤ë¥˜ ì‹œ:...</text></switch></g><path d="M 427.5 2004 L 427.52 2055.05 L 467.05 2055.05 L 467.05 2073.63" fill="none" stroke="#ff0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 467.05 2078.88 L 463.55 2071.88 L 467.05 2073.63 L 470.55 2071.88 Z" fill="#ff0000" stroke="#ff0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2055px; margin-left: 435px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì˜¤ë¥˜</div></div></div></foreignObject><text x="435" y="2058" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì˜¤ë¥˜</text></switch></g><path d="M 650 1970 L 624 1970 L 624 2025.05 L 560 2025.05 L 560 2073.63" fill="none" stroke="#ff0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 560 2078.88 L 556.5 2071.88 L 560 2073.63 L 563.5 2071.88 Z" fill="#ff0000" stroke="#ff0000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2025px; margin-left: 605px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì˜¤ë¥˜</div></div></div></foreignObject><text x="605" y="2028" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì˜¤ë¥˜</text></switch></g><rect x="650" y="2090" width="280" height="70" rx="10.5" ry="10.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 278px; height: 1px; padding-top: 2125px; margin-left: 651px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ì„±ê³µ:<br />delta.LastClusterOperation = "scale-in-progress"<br />delta.ClusterState = ClusterStateScaling<br />nil ë°˜í™˜</div></div></div></foreignObject><text x="790" y="2129" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">ì„±ê³µ:...</text></switch></g><path d="M 485.05 2004 L 485.05 2048 L 720 2048 L 720 2083.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 720 2088.88 L 716.5 2081.88 L 720 2083.63 L 723.5 2081.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2048px; margin-left: 602px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì„±ê³µ</div></div></div></foreignObject><text x="602" y="2051" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì„±ê³µ</text></switch></g><path d="M 790 2034 L 790 2083.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 790 2088.88 L 786.5 2081.88 L 790 2083.63 L 793.5 2081.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2062px; margin-left: 790px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">ì„±ê³µ</div></div></div></foreignObject><text x="790" y="2065" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">ì„±ê³µ</text></switch></g><rect x="814" y="32" width="200" height="180" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="all"/><rect x="884" y="37" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 47px; margin-left: 885px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; font-weight: bold; white-space: normal; overflow-wrap: normal;">ë²”ë¡€</div></div></div></foreignObject><text x="914" y="51" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle" font-weight="bold">ë²”ë¡€</text></switch></g><rect x="824" y="67" width="20" height="20" rx="3" ry="3" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><rect x="854" y="67" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 77px; margin-left: 856px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">API/ë¦¬ì†ŒìŠ¤ ì•¡ì…˜</div></div></div></foreignObject><text x="856" y="81" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">API/ë¦¬ì†ŒìŠ¤ ì•¡ì…˜</text></switch></g><rect x="824" y="97" width="20" height="20" rx="3" ry="3" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><rect x="854" y="97" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 107px; margin-left: 856px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ì„±ê³µ/ì™„ë£Œ</div></div></div></foreignObject><text x="856" y="111" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ì„±ê³µ/ì™„ë£Œ</text></switch></g><rect x="824" y="127" width="20" height="20" rx="3" ry="3" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><rect x="854" y="127" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 137px; margin-left: 856px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ê²°ì •/ëŒ€ê¸°</div></div></div></foreignObject><text x="856" y="141" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ê²°ì •/ëŒ€ê¸°</text></switch></g><rect x="824" y="157" width="20" height="20" rx="3" ry="3" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><rect x="854" y="157" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 167px; margin-left: 856px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ì˜¤ë¥˜/ë³µêµ¬</div></div></div></foreignObject><text x="856" y="171" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ì˜¤ë¥˜/ë³µêµ¬</text></switch></g><rect x="824" y="187" width="20" height="20" rx="3" ry="3" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><rect x="854" y="187" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 148px; height: 1px; padding-top: 197px; margin-left: 856px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ì˜¤í¼ë ˆì´ì…˜ ì‹¤í–‰</div></div></div></foreignObject><text x="856" y="201" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">ì˜¤í¼ë ˆì´ì…˜ ì‹¤í–‰</text></switch></g><rect x="760" y="233" width="195" height="97" fill="#f5f5f5" stroke="#666666" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 284px; margin-left: 767px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="background-color: initial;"><b>lastOp</b>: ì´ì „ Reconcileì—ì„œ ì €ì¥ëœ ì‘ì—… ìƒíƒœ (kredisì—ì„œ ë°œì·Œ)<br /></span><br /><span style="background-color: initial;"><b>delta</b>: ì´ë²ˆ Reconcileì—ì„œ ë³€ê²½í•  ìƒíƒœ</span></div></div></div></foreignObject><text x="767" y="288" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">lastOp: ì´ì „ Reconcileì—ì„œ ì €ì¥ëœ ì‘ì—… ìƒíƒœ (kredisì—ì„œ ë°œì·Œ)...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>